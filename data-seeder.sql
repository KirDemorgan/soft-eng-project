-- ===============================================
-- Скрипт заполнения БД тестовыми данными
-- Букмекерская контора MVP
-- ===============================================

-- ===============================================
-- USER SERVICE DATABASE (userdb)
-- ===============================================

-- Пользователи
INSERT INTO users (username, password, email, balance, created_at, is_active) VALUES
('admin', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'admin@bookmaker.com', 10000.00, '2025-01-01 10:00:00', true),
('john_doe', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'john@example.com', 1500.50, '2025-01-15 14:30:00', true),
('jane_smith', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'jane@example.com', 2300.75, '2025-02-01 09:15:00', true),
('mike_wilson', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'mike@example.com', 850.25, '2025-02-10 16:45:00', true),
('sarah_jones', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'sarah@example.com', 3200.00, '2025-02-15 11:20:00', true),
('alex_brown', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'alex@example.com', 500.00, '2025-03-01 13:10:00', true),
('lisa_davis', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'lisa@example.com', 1200.80, '2025-03-05 08:30:00', true),
('tom_garcia', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'tom@example.com', 750.40, '2025-03-10 19:25:00', true),
('emma_taylor', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'emma@example.com', 1800.60, '2025-03-12 12:00:00', true),
('david_miller', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'david@example.com', 950.30, '2025-03-15 15:45:00', true);

-- ===============================================
-- EVENT SERVICE DATABASE (eventdb)
-- ===============================================

-- Футбольные события
INSERT INTO events (home_team, away_team, start_time, status, home_win_odds, away_win_odds, draw_odds, result, created_at) VALUES
-- Активные события (будущие матчи)
('Реал Мадрид', 'Барселона', '2025-09-25 20:00:00', 'ACTIVE', 2.10, 3.20, 3.40, NULL, '2025-09-20 10:00:00'),
('Манчестер Юнайтед', 'Ливерпуль', '2025-09-26 17:30:00', 'ACTIVE', 2.80, 2.40, 3.10, NULL, '2025-09-20 11:00:00'),
('Бавария', 'Боруссия Дортмунд', '2025-09-27 19:45:00', 'ACTIVE', 1.85, 4.20, 3.60, NULL, '2025-09-20 12:00:00'),
('ПСЖ', 'Марсель', '2025-09-28 21:00:00', 'ACTIVE', 1.70, 4.80, 3.90, NULL, '2025-09-20 13:00:00'),
('Ювентус', 'Милан', '2025-09-29 18:00:00', 'ACTIVE', 2.30, 3.00, 3.20, NULL, '2025-09-20 14:00:00'),
('Челси', 'Арсенал', '2025-09-30 16:30:00', 'ACTIVE', 2.60, 2.70, 3.00, NULL, '2025-09-20 15:00:00'),
('Атлетико Мадрид', 'Севилья', '2025-10-01 20:15:00', 'ACTIVE', 2.00, 3.50, 3.30, NULL, '2025-09-20 16:00:00'),
('Интер', 'Наполи', '2025-10-02 19:30:00', 'ACTIVE', 2.40, 2.90, 3.10, NULL, '2025-09-20 17:00:00'),

-- Завершенные события
('Манчестер Сити', 'Тоттенхэм', '2025-09-15 15:00:00', 'FINISHED', 1.90, 3.80, 3.50, '2:1', '2025-09-10 10:00:00'),
('Лейпциг', 'Байер Леверкузен', '2025-09-16 18:30:00', 'FINISHED', 2.20, 3.10, 3.40, '1:1', '2025-09-11 11:00:00'),
('Лион', 'Монако', '2025-09-17 21:00:00', 'FINISHED', 2.50, 2.80, 3.20, '0:2', '2025-09-12 12:00:00'),
('Рома', 'Лацио', '2025-09-18 20:45:00', 'FINISHED', 2.10, 3.30, 3.30, '3:1', '2025-09-13 13:00:00'),

-- Отмененные события
('Валенсия', 'Атлетик Бильбао', '2025-09-19 19:00:00', 'CANCELLED', 2.40, 2.90, 3.10, NULL, '2025-09-14 14:00:00');

-- ===============================================
-- BETTING SERVICE DATABASE (bettingdb)
-- ===============================================

-- Ставки пользователей
INSERT INTO bets (user_id, event_id, type, amount, odds, status, created_at, settled_at, payout) VALUES
-- Выигрышные ставки на завершенные события
(2, 9, 'WIN_HOME', 100.00, 1.90, 'WON', '2025-09-14 12:00:00', '2025-09-15 17:00:00', 190.00),
(3, 9, 'WIN_HOME', 50.00, 1.90, 'WON', '2025-09-14 13:30:00', '2025-09-15 17:00:00', 95.00),
(4, 10, 'DRAW', 75.00, 3.40, 'WON', '2025-09-15 10:00:00', '2025-09-16 20:30:00', 255.00),
(5, 12, 'WIN_HOME', 200.00, 2.10, 'WON', '2025-09-17 14:00:00', '2025-09-18 22:45:00', 420.00),

-- Проигрышные ставки на завершенные события
(6, 9, 'WIN_AWAY', 80.00, 3.80, 'LOST', '2025-09-14 15:00:00', '2025-09-15 17:00:00', 0.00),
(7, 10, 'WIN_HOME', 120.00, 2.20, 'LOST', '2025-09-15 16:00:00', '2025-09-16 20:30:00', 0.00),
(8, 11, 'WIN_HOME', 60.00, 2.50, 'LOST', '2025-09-16 11:00:00', '2025-09-17 23:00:00', 0.00),
(9, 12, 'DRAW', 90.00, 3.30, 'LOST', '2025-09-17 18:00:00', '2025-09-18 22:45:00', 0.00),

-- Отмененные ставки
(10, 13, 'WIN_HOME', 150.00, 2.40, 'CANCELLED', '2025-09-18 10:00:00', '2025-09-19 12:00:00', 150.00),

-- Активные ставки на будущие события
(2, 1, 'WIN_HOME', 200.00, 2.10, 'PENDING', '2025-09-20 09:00:00', NULL, NULL),
(3, 1, 'DRAW', 100.00, 3.40, 'PENDING', '2025-09-20 10:30:00', NULL, NULL),
(4, 2, 'WIN_AWAY', 150.00, 2.40, 'PENDING', '2025-09-20 11:15:00', NULL, NULL),
(5, 2, 'WIN_HOME', 300.00, 2.80, 'PENDING', '2025-09-20 12:00:00', NULL, NULL),
(6, 3, 'WIN_HOME', 250.00, 1.85, 'PENDING', '2025-09-20 13:30:00', NULL, NULL),
(7, 4, 'WIN_HOME', 180.00, 1.70, 'PENDING', '2025-09-20 14:45:00', NULL, NULL),
(8, 5, 'WIN_AWAY', 120.00, 3.00, 'PENDING', '2025-09-20 15:20:00', NULL, NULL),
(9, 6, 'DRAW', 80.00, 3.00, 'PENDING', '2025-09-20 16:10:00', NULL, NULL),
(10, 7, 'WIN_HOME', 220.00, 2.00, 'PENDING', '2025-09-20 17:00:00', NULL, NULL),
(2, 8, 'WIN_AWAY', 160.00, 2.90, 'PENDING', '2025-09-20 18:30:00', NULL, NULL);

-- ===============================================
-- ДОПОЛНИТЕЛЬНЫЕ ДАННЫЕ ДЛЯ ТЕСТИРОВАНИЯ
-- ===============================================

-- Дополнительные пользователи с разными балансами
INSERT INTO users (username, password, email, balance, created_at, is_active) VALUES
('test_user_1', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'test1@test.com', 0.00, '2025-03-20 10:00:00', true),
('test_user_2', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'test2@test.com', 50000.00, '2025-03-20 11:00:00', true),
('inactive_user', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8imdCMEML5n7WT.fZpzNNNv.jNfIu', 'inactive@test.com', 100.00, '2025-03-20 12:00:00', false);

-- Дополнительные события для разнообразия
INSERT INTO events (home_team, away_team, start_time, status, home_win_odds, away_win_odds, draw_odds, result, created_at) VALUES
-- Хоккейные события (без ничьей в основное время)
('ЦСКА', 'Спартак', '2025-10-05 19:30:00', 'ACTIVE', 1.95, 2.85, NULL, NULL, '2025-09-20 18:00:00'),
('СКА', 'Динамо', '2025-10-06 17:00:00', 'ACTIVE', 2.20, 2.60, NULL, NULL, '2025-09-20 19:00:00'),

-- Баскетбольные события
('Лейкерс', 'Уорриорз', '2025-10-07 04:00:00', 'ACTIVE', 2.10, 1.75, NULL, NULL, '2025-09-20 20:00:00'),
('Селтикс', 'Хит', '2025-10-08 03:30:00', 'ACTIVE', 1.85, 1.95, NULL, NULL, '2025-09-20 21:00:00');

-- Комментарии к данным:
-- 1. Пароли всех пользователей: "password" (хешированы с помощью BCrypt)
-- 2. Балансы пользователей варьируются от 0 до 50000 для тестирования разных сценариев
-- 3. События включают разные статусы: ACTIVE, FINISHED, CANCELLED
-- 4. Ставки включают все возможные статусы: PENDING, WON, LOST, CANCELLED
-- 5. Коэффициенты реалистичны для букмекерской конторы
-- 6. Временные метки логически связаны (ставки делаются до начала событий)